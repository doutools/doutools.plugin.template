<template>
    <div class="header">
        <div class="flex-center" style="color: rgba(0, 0, 0, 0.45)">
            <svg class="flex-center" style="fill: rgba(0, 0, 0, 0.45); margin-right: 4px" viewBox="0 0 1024 1024" height="16px" width="16px">
                <path d="M851.05948053 463.74326933L577.02690133 178.75675627c-17.0361376-17.71208213-39.80418027-27.4373792-64.19786346-27.4373792-24.39498027 0-47.163024 9.72529813-64.16802347 27.4373792L174.59729707 463.74326933c-28.28198613 29.4496448-24.64148587 54.8591904-19.9552832 65.4732064 3.33301653 7.55864213 14.563296 28.26641707 46.97749546 28.26641707l40.15707307 0 0 219.249936c0 49.7733888 35.77835307 96.6432 86.6428544 96.6432l116.6451904 0L445.06462613 641.34542187c0-24.8866944-3.76375253-38.7429088 21.6769312-38.7429088l92.189232 0c25.43938667 0 21.66006507 13.85751147 21.66006507 38.7429088l0 232.031904 116.6451904 0c50.84893227 0 86.6285824-46.8698112 86.6285824-96.6432L783.8646272 557.4828928l40.17264107 0c32.41419947 0 43.65875093-20.70777493 46.97749546-28.26641707C875.7009664 518.60116267 879.34016853 493.19161707 851.05948053 463.74326933L851.05948053 463.74326933zM824.0359712 512.34900053" p-id="2218" />
            </svg>
            <span>抖兔工具箱</span>
            <span style="margin: 0 6px">/</span>
            <span style="color: rgba(0, 0, 0, 0.85)">v3.0.0</span>
        </div>
        <div class="account" v-if="props.account">
            <div class="avatar">
                <a-avatar shape="square" :size="32" :src="user?.account_avatar ? user?.account_avatar : 'https://joeschmoe.io/api/v1/random'" />
            </div>
            <div style="display: flex; align-items: flex-start; flex-direction: column">
                <div class="nickname" @click.prevent style="margin-bottom: 3px">{{ user?.shop_name }}</div>
                <svg v-if="user?.shop_type == 23" width="50" height="16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="50" height="16" rx="8" fill="#FA64AF" fill-opacity="0.1" />
                    <path d="M0 8a8 8 0 0 0 8 8h2a8 8 0 0 0 8-8V0H8a8 8 0 0 0-8 8Z" fill="#FA64AF" fill-opacity="0.1" />
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.933 2.365a1.74 1.74 0 0 1 2.134 0l3.762 2.838a.466.466 0 0 1 .154.488c-.049.183-.198.309-.368.309h-9.23c-.17 0-.32-.126-.368-.309a.465.465 0 0 1 .154-.488l3.762-2.838ZM4 12.5c0-.276.187-.5.417-.5H5V7a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v5h.583c.23 0 .417.224.417.5s-.187.5-.417.5H4.417c-.23 0-.417-.224-.417-.5Zm4-4.125C8 8.168 7.776 8 7.5 8s-.5.168-.5.375v2.25c0 .207.224.375.5.375s.5-.168.5-.375v-2.25ZM10.5 8c.276 0 .5.168.5.375v2.25c0 .207-.224.375-.5.375s-.5-.168-.5-.375v-2.25c0-.207.224-.375.5-.375Z" fill="url(#a)" />
                    <path d="M20.696 4.548v.828h1.752a10.769 10.769 0 0 1-1.98 3.996l.372.936a13.873 13.873 0 0 0 1.644-3.264v6.096h.864V6.816c.336.468.732 1.08 1.188 1.836l.504-.744a31.494 31.494 0 0 0-1.692-1.92v-.612h1.488v-.828h-1.488v-2.34h-.864v2.34h-1.788Zm3.576 8.064.708.636c.564-.864.948-1.752 1.152-2.688.216-.888.324-1.992.324-3.312V3.516h2.136v8.352c0 .696.384 1.044 1.152 1.044h.492c.384 0 .672-.072.864-.204.192-.168.312-.456.36-.888a19.33 19.33 0 0 0 .084-1.968l-.792-.252c0 1.152-.036 1.836-.084 2.076-.024.168-.084.276-.18.348a.665.665 0 0 1-.336.072h-.408c-.192 0-.276-.108-.276-.312V2.7h-3.876v4.548c0 1.236-.084 2.22-.24 2.952a7.245 7.245 0 0 1-1.08 2.412ZM38.3 2.184c-.276 1.704-.792 3.144-1.536 4.32l.552.72c.48-.72.888-1.548 1.224-2.472h3.648c-.012 3.72-.072 5.928-.18 6.624-.108.624-.456.948-1.032.948-.384 0-.828-.024-1.356-.048l.192.78c.612.024 1.044.036 1.296.036.996 0 1.56-.492 1.704-1.464.12-.96.192-3.528.192-7.68h-4.212c.144-.528.264-1.08.36-1.656l-.852-.108Zm-.984 8.424a48.39 48.39 0 0 0 3.144-.732c.096.336.204.696.312 1.08l.756-.336a25.309 25.309 0 0 0-1.08-3.012l-.72.252c.168.408.348.864.516 1.368-.576.144-1.236.288-1.956.432.348-.636.816-1.752 1.404-3.348l-.756-.276c-.852 2.4-1.44 3.684-1.776 3.864l.156.708Zm-2.04-3.528c.336.432.744 1.008 1.212 1.704l.48-.732a31.494 31.494 0 0 0-1.692-1.92v-.756h1.476v-.828h-1.476v-2.34h-.852v2.34h-1.74v.828h1.68c-.384 1.512-1.02 2.868-1.92 4.056l.372.936c.672-.996 1.2-2.1 1.608-3.324v6.108h.852V7.08Z" fill="#FA64AF" />
                    <defs>
                        <linearGradient id="a" x1="4" y1="7.25" x2="14" y2="7.25" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#F69" />
                            <stop offset="1" stop-color="#FF66B3" />
                        </linearGradient>
                    </defs>
                </svg>
                <svg v-else width="50" height="16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="50" height="16" rx="8" fill="#69F" fill-opacity="0.1" />
                    <path d="M0 8a8 8 0 0 0 8 8h2a8 8 0 0 0 8-8V0H8a8 8 0 0 0-8 8Z" fill="#69F" fill-opacity="0.1" />
                    <path d="M23.768 8.784v2.952h4.452V8.784h-4.452Zm3.624 2.184h-2.796V9.564h2.796v1.404Zm-.228-4.524-.588.552c1.032.756 1.836 1.476 2.424 2.148l.648-.636c-.672-.684-1.5-1.368-2.484-2.064Zm-1.092-4.368-.948.156c.156.288.3.6.444.948h-4.884v.84h2.496c.24.456.456.936.636 1.452h-2.532v7.644h.828V6.24h7.752v5.52c0 .408-.168.624-.504.624l-1.164-.036.216.792h1.224c.696 0 1.056-.396 1.056-1.188v-6.48h-2.664c.24-.432.48-.912.696-1.452h2.592v-.84h-4.824a12.619 12.619 0 0 0-.42-1.104Zm-1.356 3.396c-.18-.528-.372-1.02-.576-1.452h3.636a17.7 17.7 0 0 1-.684 1.452h-2.376Zm.036.984c-.672.768-1.5 1.428-2.484 1.98l.552.72c1.008-.612 1.86-1.332 2.544-2.16l-.612-.54ZM39.884 8.52c.576 1.644 1.524 3 2.844 4.068l.612-.708c-1.272-.9-2.196-2.1-2.76-3.612A10.818 10.818 0 0 0 42.644 7.2l-.588-.588a11.338 11.338 0 0 1-3.18 1.452 5.612 5.612 0 0 0-1.008-1.404c.324-.192.648-.408.984-.636H41.6V5.22h-7.188v.804h3.18a14.79 14.79 0 0 1-1.236.6c-.924.396-1.968.72-3.12.972l.444.708c1.344-.384 2.436-.768 3.264-1.152.084-.048.168-.084.264-.132.168.192.336.396.48.624-1.092.84-2.652 1.512-4.668 2.04l.432.744c1.944-.552 3.48-1.272 4.608-2.16.144.288.252.588.348.9-1.308 1.08-3.156 1.956-5.532 2.652l.432.744c2.172-.66 3.924-1.512 5.268-2.568a8.7 8.7 0 0 1 .048.6c0 .744-.108 1.248-.324 1.512-.18.204-.624.312-1.332.324h-.576l.288.756h.408c1.032 0 1.704-.216 1.992-.624.252-.36.384-1.02.384-1.968a6.373 6.373 0 0 0-.312-1.872c.24-.06.492-.132.732-.204Zm-1.74-6.408-.876.156c.144.288.288.624.42.984h-4.752V5.34h.852V4.056h8.424V5.34h.852V3.252h-4.512a12.32 12.32 0 0 0-.408-1.14Z" fill="#69F" />
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M5.038 3.465A2 2 0 0 1 6.749 2.5h4.532a2 2 0 0 1 1.72.979l1.361 2.293a1 1 0 0 1-.86 1.51h-2.425a1.73 1.73 0 0 1-.69-.143l-.027-.011a3.397 3.397 0 0 0-2.732.01 1.698 1.698 0 0 1-.689.145H4.502a1 1 0 0 1-.856-1.518l1.392-2.3Zm5.609 4.75.024.015a.97.97 0 0 0 .498.138h2.336v2.74c0 1.321-1.008 2.392-2.251 2.392H6.75c-1.243 0-2.251-1.07-2.251-2.391V8.368h2.365a.947.947 0 0 0 .493-.14 3.164 3.164 0 0 1 3.289-.013Zm-3.582 1.938a.48.48 0 0 0-.482.478.48.48 0 0 0 .482.478h3.856a.48.48 0 0 0 .482-.478.48.48 0 0 0-.482-.479H7.065Z" fill="url(#a)" />
                    <defs>
                        <linearGradient id="a" x1="3.5" y1="8" x2="14.504" y2="8" gradientUnits="userSpaceOnUse">
                            <stop stop-color="#667FFF" />
                            <stop offset="1" stop-color="#69F" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>
        </div>
    </div>
</template>

<script setup>
import { onMounted, ref } from 'vue';

const props = defineProps({
    title: String,
    account: Boolean,
});
const user = ref({});

onMounted(async () => {
    if (props.account) {
        user.value = await DouToolsAPI.ipc.invoke('getStore', 'user');
    }
});
</script>

<style scoped>
.flex-center {
    display: flex;
    align-items: center;
}

.header {
    font-size: 14px;
    height: 60px;
    background-color: #fff;
    box-shadow: 0 4px 20px rgb(0 0 0 / 3%);
    display: flex;
    justify-content: space-between;
    padding-left: 16px;
    flex-shrink: 0;
}

.header .account {
    /* width: 200px; */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    height: 60px;
    padding: 0 32px 0 32px;
    border-left: #e5e5e5 solid 1px;
}

.header .account:hover {
    background-color: #fafafa;
}

.header .avatar {
    width: 32px;
    height: 32px;
    overflow: hidden;
    background-color: #666;
    border-radius: 32px;
    margin-right: 12px;
}

.header .nickname {
    max-width: 160px;
    text-align: center;
    font-size: 12px;
    color: #12141a;
    /* margin-left: 8px; */
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
}
</style>
